<ui:composition template="#{appCtx.mainRes}/layouts/mainLayout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions">
      	 
    <ui:define name="content">
    <a4j:region id="editRegion">
 		<t:saveState id="savingTravelBean" value="#{travelm}"></t:saveState>
    	<h:outputText value="Dodawanie nowego środka travelu" rendered="#{travelm.editForm.modType=='INSERT'}" ></h:outputText>
		<h:outputText value="Edycja danych środka travelu" rendered="#{travelm.editForm.modType=='UPDATE'}" ></h:outputText>
		
		 		 
    	<h:form id="editForm">
	    	<rich:simpleTogglePanel label="Formularz edycyjny" switchType="client" width="500px" id="mainPanel">
	    		<t:panelGrid columns="2" styleClass="PanelGrid" headerClass="Center"> 		
	    			<f:facet name="header" >
	    				<t:div styleClass="Center" style="height:40px; overflow: auto;text-align:left;">
							<rich:messages id="edit_msgs" errorStyle="color:red"  tooltip="true" showDetail="true" ajaxRendered="true"></rich:messages>
						</t:div>
	    			</f:facet>    	 		
	       	 		
		    		<h:outputLabel value="Nazwa *" for="Name"/>
		    		<h:inputText  value="#{travelm.editForm.entry.name}" styleClass="InputText" required="true" id="Name" size="35">
		    			<f:validateLength minimum="2"/>
		    		</h:inputText>
		    		
		    		<h:outputLabel value="Kraj *" for="Country"/>
		    		<h:inputText  value="#{travelm.editForm.entry.country}" styleClass="InputText" required="true" id="Country">
		    			<f:validateLength minimum="2"/>
		    		</h:inputText>
		    		
		    		<h:outputLabel value="Miejsce *" for="Place"/>
		    		<h:inputText  value="#{travelm.editForm.entry.place}" styleClass="InputText" required="true" id="Place">
		    			<f:validateLength minimum="2"/>
		    		</h:inputText>	 
	    			
	    			<h:outputLabel value="Uwagi" for="Uwagi"/>
	    			<h:inputTextarea value="#{travelm.editForm.entry.description}" id="Uwagi" rows="6"></h:inputTextarea>
	    			
	    			<f:facet name="footer">
	    				<h:panelGroup>
	    					<h:commandButton action="BACK_TO_LIST" immediate="true" value="Powrót do listy" styleClass="Button"></h:commandButton>
	    					<rich:spacer width="5px" ></rich:spacer>
	    					<a4j:commandButton value="Zatwierdz" styleClass="Button" actionListener="#{travelm.editForm.saveTravel}" reRender="editForm"></a4j:commandButton>
	    					<ui:include src="/web/main/common/ajaxLoading.xhtml" />
	    				</h:panelGroup>
	    			</f:facet>
	    		</t:panelGrid>	
	  
	    	</rich:simpleTogglePanel>
   		
    	</h:form>
    </a4j:region>
    </ui:define>
</ui:composition>